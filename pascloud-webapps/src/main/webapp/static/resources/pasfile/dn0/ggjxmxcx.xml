<?xml version="1.0" encoding="UTF-8"?>
<pageSetting id="ggjxmxcx" title="公共绩效明细查询" type="query" version="1.0.0.0" pid="" desc="标准版">
  <conPart>
    <tags>
      <tag row="0" col="0" colspan="1" rowspan="1" name="Date" label="统计年月">
        <attribute key="dateFmt" value="yyyyMM" />
        <attribute key="defValType" value="sysDate" />
        <attribute key="editable" value="true" />
        <attribute key="isRequired" value="true" />
        <attribute key="name" value="tjrq" />
        <attribute key="minDate" value="no" />
      </tag>
      <tag row="0" col="1" colspan="1" rowspan="1" name="NewMultipleHy" label="行员">
        <attribute key="isDisplayXN" value="true" />
        <attribute key="editable" value="true" />
        <attribute key="isRequired" value="false" />
        <attribute key="jgckbz" value="jg_ckhy" />
        <attribute key="name" value="khdxdh" />
        <attribute key="multiple" value="true" />
      </tag>
      <tag row="0" col="2" colspan="1" rowspan="1" name="Hidden" label="">
        <attribute key="defVal" value="20170101" />
        <attribute key="name" value="tjrq_yc" />
      </tag>
      <tag row="0" col="2" colspan="1" rowspan="1" name="Hidden" label="">
        <attribute key="defVal" value="20170101" />
        <attribute key="name" value="tjrq_ym" />
      </tag>
      <tag row="0" col="2" colspan="1" rowspan="1" name="Hidden" label="">
        <attribute key="defVal" value="20170101" />
        <attribute key="name" value="tjrq_nc" />
      </tag>
      <tag row="0" col="2" colspan="1" rowspan="1" name="Hidden" label="">
        <attribute key="defVal" value="20170101" />
        <attribute key="name" value="tjrq_sym" />
      </tag>
    </tags>
  </conPart>
  <table id="ggjxmxcx_xsjy1jgj" title="新数据源1结果集" page="true" isDym="true">
    <col id="TJNY" title="统计年月" align="left" type="string" width="120" frozen="false" format="" exp="true" zsy="true" showDymCol="false" mergeCells="false" footerCells="false" />
    <col id="JGDH" title="机构代号" align="left" type="string" width="120" frozen="false" format="" exp="true" zsy="true" showDymCol="false" mergeCells="false" footerCells="false" />
    <col id="JGMC" title="机构名称" align="left" type="string" width="150" frozen="false" format="" exp="true" zsy="true" showDymCol="false" mergeCells="false" footerCells="false" />
    <col id="HYDH" title="行员代号" align="left" type="string" width="75" frozen="false" format="" exp="true" zsy="true" showDymCol="false" mergeCells="false" footerCells="false" />
    <col id="HYMC" title="行员名称" align="left" type="string" width="90" frozen="false" format="" exp="true" zsy="true" showDymCol="false" mergeCells="false" footerCells="false" />
    <col id="HYLB" title="行员类别" align="left" type="string" width="120" frozen="false" format="" exp="true" zsy="true" showDymCol="false" mergeCells="false" footerCells="false" />
    <col id="HYGW" title="行员岗位" align="left" type="string" width="120" frozen="false" format="" exp="true" zsy="true" showDymCol="false" mergeCells="false" footerCells="false" />
    <col id="KHDXDH" title="考核对象代号" align="left" type="hidden" width="120" frozen="false" format="" exp="false" zsy="false" showDymCol="false" mergeCells="false" footerCells="false" />
    <col id="$gzxmc$" title="GZXMC" align="left" type="string" width="600" frozen="false" format="" exp="true" zsy="true" showDymCol="false" mergeCells="false" footerCells="false" dym="true">
      <col id="GZX_LSWFP" title="历史未分配" align="right" type="float" width="120" frozen="false" format="" exp="true" zsy="true" showDymCol="false" mergeCells="false" footerCells="false" />
      <col id="GZX_DYJXB" title="当月绩效包" align="right" type="float" width="120" frozen="false" format="" exp="true" zsy="true" showDymCol="false" mergeCells="false" footerCells="false" />
      <col id="GZX_XJ" title="小计" align="right" type="float" width="120" frozen="false" format="" exp="true" zsy="true" showDymCol="false" mergeCells="false" footerCells="false" />
      <col id="GZX_KFP" title="可分配" align="right" type="float" width="120" frozen="false" format="" exp="true" zsy="true" showDymCol="false" mergeCells="false" footerCells="false" />
      <col id="GZX_YFP" title="已分配" align="right" type="float" width="120" frozen="false" format="" exp="true" zsy="true" showDymCol="false" mergeCells="false" footerCells="false" />
    </col>
    <col id="LSWFP" title="历史未分配" align="right" type="float" width="120" frozen="false" format="" exp="true" zsy="true" showDymCol="false" mergeCells="false" footerCells="false" />
    <col id="DYJXB" title="当月绩效包" align="right" type="float" width="120" frozen="false" format="" exp="true" zsy="true" showDymCol="false" mergeCells="false" footerCells="false" />
    <col id="XJ" title="小计" align="right" type="float" width="120" frozen="false" format="" exp="true" zsy="true" showDymCol="false" mergeCells="false" footerCells="false" />
    <col id="KFP" title="可分配" align="right" type="float" width="120" frozen="false" format="" exp="true" zsy="true" showDymCol="false" mergeCells="false" footerCells="false" />
    <col id="YFP" title="已分配" align="right" type="float" width="120" frozen="false" format="" exp="true" zsy="true" showDymCol="" mergeCells="false" footerCells="false" />
  </table>
  <sqlMap namespace="studio.ggjxmxcx">
    <select id="dn0.ggjxmxcxList" parameterClass="java.util.Map" resultClass="java.util.HashMap" remapResults="true">
      <isNotEmpty property="db"><![CDATA[/**!mycat:datanode=$db$**/]]></isNotEmpty>
      select $tjrq$ as tjny,d.gzxbh,d.gzxmc,hy.khdxdh,        case when zh.jgdh=wd.jgdh then zh.jgdh else zh.jgdh||'-'||rtrim(wd.jgdh) end as jgdh,        case when zh.jgdh=wd.jgdh then zh.jgmc else zh.jgmc||'-'||rtrim(wd.jgmc) end as jgmc,        hy.hydh,hy.hymc,dd.lbmc as hylb,gw.gwmc as hygw,        coalesce(lsjxb.lsjxb,0)-sum(coalesce(lsyfp.lsyfp,0)) over(partition by zh.khdxdh,d.gzxbh) as gzx_lswfp,        coalesce(dyjxb.dyjxb,0) as gzx_dyjxb,        coalesce(lsjxb.lsjxb,0)-sum(coalesce(lsyfp.lsyfp,0)) over(partition by zh.khdxdh,d.gzxbh)+coalesce(dyjxb.dyjxb,0) as gzx_xj,        round(coalesce(lsjxb.lsjxb,0)-sum(coalesce(lsyfp.lsyfp,0)) over(partition by zh.khdxdh,d.gzxbh)+coalesce(dyjxb.dyjxb,0)-sum(coalesce(dyyfp.dyyfp,0)) over(partition by zh.khdxdh,d.gzxbh),2) as gzx_kfp,        dyyfp.dyyfp as gzx_yfp,         sum(coalesce(lsjxb.lsjxb,0)) over(partition by hy.khdxdh)-sum(coalesce(lsyfp.lsyfp,0)) over(partition by hy.khdxdh) as lswfp,        sum(coalesce(dyjxb.dyjxb,0)) over(partition by hy.khdxdh) as dyjxb,        sum(coalesce(lsjxb.lsjxb,0)-coalesce(lsyfp.lsyfp,0) +coalesce(dyjxb.dyjxb,0)) over(partition by hy.khdxdh) as xj,        round(sum(coalesce(lsjxb.lsjxb,0)-coalesce(lsyfp.lsyfp,0) +coalesce(dyjxb.dyjxb,0)) over(partition by hy.khdxdh)-sum(coalesce(dyyfp.dyyfp,0)) over(partition by zh.khdxdh),2) as kfp,        sum(dyyfp.dyyfp) over(partition by hy.khdxdh) as yfp   from gztx_gzxdy d  inner join (select sg.fpgzxbh,sg.khdxdh,sg.jgdh,st.sjjgkhdxdh,sum(sg.sfgz) as dyyfp                from sglr_ggjxecfp sg               inner join khdx_jgcy cy on sg.khdxdh=cy.khdxdh
      <isNotEmpty property="tjrq_ym">and $tjrq_ym$ between cy.qsrq and cy.jsrq</isNotEmpty>
      inner join xtb_jggxst st on cy.jgkhdxdh=st.jgkhdxdh
      <isNotEmpty property="tjrq_ym">and $tjrq_ym$ between st.qsrq and st.jsrq</isNotEmpty>
      inner join khdx_jglb jl on st.sjjgkhdxdh=jl.khdxdh
      <isNotEmpty property="tjrq_ym">and $tjrq_ym$ between jl.qsrq and jl.jsrq</isNotEmpty>
      and (jl.lbdh like 'C%' OR jl.lbdh like 'D%')               where 1=1
      <isNotEmpty property="tjrq_ym">and  sg.tjrq=$tjrq_ym$</isNotEmpty>
      group by sg.fpgzxbh,sg.khdxdh,sg.jgdh,st.sjjgkhdxdh) dyyfp on dyyfp.fpgzxbh=d.gzxbh
      <isNotEmpty property="khdxdh">and dyyfp.khdxdh in ($khdxdh$)</isNotEmpty>
      inner join khdx_hy hy on dyyfp.khdxdh=hy.khdxdh  inner join table(fn_getsjjg_java_qxhy($tjrq_ym$,$login_khdxdh$,0)) qx on qx.khdxdh=dyyfp.KHDXDH  inner join khdx_jg wd on dyyfp.jgdh=wd.jgdh  inner join khdx_jg zh on zh.khdxdh=dyyfp.sjjgkhdxdh  inner join khdx_hylb dd on dd.khdxdh=hy.khdxdh
      <isNotEmpty property="tjrq_ym">and  $tjrq_ym$ between dd.qsrq and dd.jsrq</isNotEmpty>
      inner join khdx_hygw gw on gw.khdxdh=hy.khdxdh
      <isNotEmpty property="tjrq_ym">and  $tjrq_ym$ between gw.qsrq and gw.jsrq</isNotEmpty>
      left outer join (select hz.gzxbh,st.sjjgkhdxdh,sum(gzxsfgz) lsjxb                      from gztx_zxhz hz                     inner join xtb_xtcs cs on cs.csmc='XNHYJXJZBZ'                     inner join xtb_xtcs jzqsrq on jzqsrq.csmc='XNHYJZQSRQ'                     inner join khdx_jgcy cy on hz.khdxdh=cy.khdxdh
      <isNotEmpty property="tjrq_ym">and $tjrq_ym$ between cy.qsrq and cy.jsrq</isNotEmpty>
      inner join xtb_jggxst st on cy.jgkhdxdh=st.jgkhdxdh
      <isNotEmpty property="tjrq_ym">and $tjrq_ym$ between st.qsrq and st.jsrq</isNotEmpty>
      inner join khdx_jglb jl on st.sjjgkhdxdh=jl.khdxdh
      <isNotEmpty property="tjrq_ym">and $tjrq_ym$ between jl.qsrq and jl.jsrq</isNotEmpty>
      <![CDATA[and (jl.lbdh like 'C%' OR jl.lbdh like 'D%')
                    where hz.tjrq between case when cs.csz='0' then $tjrq_ym$ when cs.csz='1' then $tjrq_nc$ when cs.csz='2' then cast(jzqsrq.csz as integer) end and $tjrq_sym$  
                      and hz.hylb='XN' and hz.gzxsfgz>0
                    group by hz.gzxbh,st.sjjgkhdxdh) lsjxb on dyyfp.fpgzxbh=lsjxb.gzxbh and    dyyfp.sjjgkhdxdh=lsjxb.sjjgkhdxdh                                        
  left outer join (select sg.fpgzxbh,sg.khdxdh,sum(sg.sfgz) as lsyfp
                     from sglr_ggjxecfp sg
                    inner join xtb_xtcs cs on cs.csmc='XNHYJXJZBZ'
                    inner join xtb_xtcs jzqsrq on jzqsrq.csmc='XNHYJZQSRQ'                  
                    where sg.tjrq between case when cs.csz='0' then $tjrq_ym$ when cs.csz='1' then $tjrq_nc$ when cs.csz='2' then cast(jzqsrq.csz as integer) end and $tjrq_sym$ 
                    group by sg.fpgzxbh,sg.khdxdh) lsyfp    on dyyfp.khdxdh=lsyfp.khdxdh and dyyfp.fpgzxbh=lsyfp.fpgzxbh    
  left outer join (select hz.gzxbh,st.sjjgkhdxdh,sum(gzxsfgz) dyjxb
                     from gztx_zxhz hz
                    inner join khdx_jgcy cy on hz.khdxdh=cy.khdxdh]]>
      <isNotEmpty property="tjrq_ym">and $tjrq_ym$ between cy.qsrq and cy.jsrq</isNotEmpty>
      inner join xtb_jggxst st on cy.jgkhdxdh=st.jgkhdxdh
      <isNotEmpty property="tjrq_ym">and $tjrq_ym$ between st.qsrq and st.jsrq</isNotEmpty>
      inner join khdx_jglb jl on st.sjjgkhdxdh=jl.khdxdh
      <isNotEmpty property="tjrq_ym">and $tjrq_ym$ between jl.qsrq and jl.jsrq</isNotEmpty>
      and (jl.lbdh like 'C%' OR jl.lbdh like 'D%')                                     where 1=1
      <isNotEmpty property="tjrq_ym">and  hz.tjrq = $tjrq_ym$</isNotEmpty>
      <![CDATA[and hz.hylb='XN' and hz.gzxsfgz>0
                    group by hz.gzxbh,st.sjjgkhdxdh) dyjxb on  dyyfp.fpgzxbh=dyjxb.gzxbh and    dyyfp.sjjgkhdxdh=dyjxb.sjjgkhdxdh
 where d.sfkecfp='1']]>
    </select>
    <select id="dn0.ggjxmxcxCount" parameterClass="java.util.Map" resultClass="java.lang.Integer">
      <isNotEmpty property="db"><![CDATA[/**!mycat:datanode=$db$**/]]></isNotEmpty>
      select count(1) from ( select $tjrq$ as tjny,d.gzxbh,d.gzxmc,hy.khdxdh,        case when zh.jgdh=wd.jgdh then zh.jgdh else zh.jgdh||'-'||rtrim(wd.jgdh) end as jgdh,        case when zh.jgdh=wd.jgdh then zh.jgmc else zh.jgmc||'-'||rtrim(wd.jgmc) end as jgmc,        hy.hydh,hy.hymc,dd.lbmc as hylb,gw.gwmc as hygw,        coalesce(lsjxb.lsjxb,0)-sum(coalesce(lsyfp.lsyfp,0)) over(partition by zh.khdxdh,d.gzxbh) as gzx_lswfp,        coalesce(dyjxb.dyjxb,0) as gzx_dyjxb,        coalesce(lsjxb.lsjxb,0)-sum(coalesce(lsyfp.lsyfp,0)) over(partition by zh.khdxdh,d.gzxbh)+coalesce(dyjxb.dyjxb,0) as gzx_xj,        round(coalesce(lsjxb.lsjxb,0)-sum(coalesce(lsyfp.lsyfp,0)) over(partition by zh.khdxdh,d.gzxbh)+coalesce(dyjxb.dyjxb,0)-sum(coalesce(dyyfp.dyyfp,0)) over(partition by zh.khdxdh,d.gzxbh),2) as gzx_kfp,        dyyfp.dyyfp as gzx_yfp,         sum(coalesce(lsjxb.lsjxb,0)) over(partition by hy.khdxdh)-sum(coalesce(lsyfp.lsyfp,0)) over(partition by hy.khdxdh) as lswfp,        sum(coalesce(dyjxb.dyjxb,0)) over(partition by hy.khdxdh) as dyjxb,        sum(coalesce(lsjxb.lsjxb,0)-coalesce(lsyfp.lsyfp,0) +coalesce(dyjxb.dyjxb,0)) over(partition by hy.khdxdh) as xj,        round(sum(coalesce(lsjxb.lsjxb,0)-coalesce(lsyfp.lsyfp,0) +coalesce(dyjxb.dyjxb,0)) over(partition by hy.khdxdh)-sum(coalesce(dyyfp.dyyfp,0)) over(partition by zh.khdxdh),2) as kfp,        sum(dyyfp.dyyfp) over(partition by hy.khdxdh) as yfp   from gztx_gzxdy d  inner join (select sg.fpgzxbh,sg.khdxdh,sg.jgdh,st.sjjgkhdxdh,sum(sg.sfgz) as dyyfp                from sglr_ggjxecfp sg               inner join khdx_jgcy cy on sg.khdxdh=cy.khdxdh
      <isNotEmpty property="tjrq_ym">and $tjrq_ym$ between cy.qsrq and cy.jsrq</isNotEmpty>
      inner join xtb_jggxst st on cy.jgkhdxdh=st.jgkhdxdh
      <isNotEmpty property="tjrq_ym">and $tjrq_ym$ between st.qsrq and st.jsrq</isNotEmpty>
      inner join khdx_jglb jl on st.sjjgkhdxdh=jl.khdxdh
      <isNotEmpty property="tjrq_ym">and $tjrq_ym$ between jl.qsrq and jl.jsrq</isNotEmpty>
      and (jl.lbdh like 'C%' OR jl.lbdh like 'D%')               where 1=1
      <isNotEmpty property="tjrq_ym">and  sg.tjrq=$tjrq_ym$</isNotEmpty>
      group by sg.fpgzxbh,sg.khdxdh,sg.jgdh,st.sjjgkhdxdh) dyyfp on dyyfp.fpgzxbh=d.gzxbh
      <isNotEmpty property="khdxdh">and dyyfp.khdxdh in ($khdxdh$)</isNotEmpty>
      inner join khdx_hy hy on dyyfp.khdxdh=hy.khdxdh  inner join table(fn_getsjjg_java_qxhy($tjrq_ym$,$login_khdxdh$,0)) qx on qx.khdxdh=dyyfp.KHDXDH  inner join khdx_jg wd on dyyfp.jgdh=wd.jgdh  inner join khdx_jg zh on zh.khdxdh=dyyfp.sjjgkhdxdh  inner join khdx_hylb dd on dd.khdxdh=hy.khdxdh
      <isNotEmpty property="tjrq_ym">and  $tjrq_ym$ between dd.qsrq and dd.jsrq</isNotEmpty>
      inner join khdx_hygw gw on gw.khdxdh=hy.khdxdh
      <isNotEmpty property="tjrq_ym">and  $tjrq_ym$ between gw.qsrq and gw.jsrq</isNotEmpty>
      left outer join (select hz.gzxbh,st.sjjgkhdxdh,sum(gzxsfgz) lsjxb                      from gztx_zxhz hz                     inner join xtb_xtcs cs on cs.csmc='XNHYJXJZBZ'                     inner join xtb_xtcs jzqsrq on jzqsrq.csmc='XNHYJZQSRQ'                     inner join khdx_jgcy cy on hz.khdxdh=cy.khdxdh
      <isNotEmpty property="tjrq_ym">and $tjrq_ym$ between cy.qsrq and cy.jsrq</isNotEmpty>
      inner join xtb_jggxst st on cy.jgkhdxdh=st.jgkhdxdh
      <isNotEmpty property="tjrq_ym">and $tjrq_ym$ between st.qsrq and st.jsrq</isNotEmpty>
      inner join khdx_jglb jl on st.sjjgkhdxdh=jl.khdxdh
      <isNotEmpty property="tjrq_ym">and $tjrq_ym$ between jl.qsrq and jl.jsrq</isNotEmpty>
      <![CDATA[and (jl.lbdh like 'C%' OR jl.lbdh like 'D%')
                    where hz.tjrq between case when cs.csz='0' then $tjrq_ym$ when cs.csz='1' then $tjrq_nc$ when cs.csz='2' then cast(jzqsrq.csz as integer) end and $tjrq_sym$  
                      and hz.hylb='XN' and hz.gzxsfgz>0
                    group by hz.gzxbh,st.sjjgkhdxdh) lsjxb on dyyfp.fpgzxbh=lsjxb.gzxbh and    dyyfp.sjjgkhdxdh=lsjxb.sjjgkhdxdh                                        
  left outer join (select sg.fpgzxbh,sg.khdxdh,sum(sg.sfgz) as lsyfp
                     from sglr_ggjxecfp sg
                    inner join xtb_xtcs cs on cs.csmc='XNHYJXJZBZ'
                    inner join xtb_xtcs jzqsrq on jzqsrq.csmc='XNHYJZQSRQ'                  
                    where sg.tjrq between case when cs.csz='0' then $tjrq_ym$ when cs.csz='1' then $tjrq_nc$ when cs.csz='2' then cast(jzqsrq.csz as integer) end and $tjrq_sym$ 
                    group by sg.fpgzxbh,sg.khdxdh) lsyfp    on dyyfp.khdxdh=lsyfp.khdxdh and dyyfp.fpgzxbh=lsyfp.fpgzxbh    
  left outer join (select hz.gzxbh,st.sjjgkhdxdh,sum(gzxsfgz) dyjxb
                     from gztx_zxhz hz
                    inner join khdx_jgcy cy on hz.khdxdh=cy.khdxdh]]>
      <isNotEmpty property="tjrq_ym">and $tjrq_ym$ between cy.qsrq and cy.jsrq</isNotEmpty>
      inner join xtb_jggxst st on cy.jgkhdxdh=st.jgkhdxdh
      <isNotEmpty property="tjrq_ym">and $tjrq_ym$ between st.qsrq and st.jsrq</isNotEmpty>
      inner join khdx_jglb jl on st.sjjgkhdxdh=jl.khdxdh
      <isNotEmpty property="tjrq_ym">and $tjrq_ym$ between jl.qsrq and jl.jsrq</isNotEmpty>
      and (jl.lbdh like 'C%' OR jl.lbdh like 'D%')                                     where 1=1
      <isNotEmpty property="tjrq_ym">and  hz.tjrq = $tjrq_ym$</isNotEmpty>
      <![CDATA[and hz.hylb='XN' and hz.gzxsfgz>0
                    group by hz.gzxbh,st.sjjgkhdxdh) dyjxb on  dyyfp.fpgzxbh=dyjxb.gzxbh and    dyyfp.sjjgkhdxdh=dyjxb.sjjgkhdxdh
 where d.sfkecfp='1']]> ) t
    </select>
  </sqlMap>
  <finger custPlotMth="" id="ggjxmxcx_xsjy1jgj">
    <plotType>line</plotType>
    <needPlot>false</needPlot>
    <plotTitle />
    <xLabel />
    <xSeries>KHDXDH</xSeries>
    <yLabel />
    <ySeries />
  </finger>
  <rels>
    <items id="ggjxmxcx_xsjy1jgj" />
  </rels>
  <javascript><![CDATA[jQuery(document).ready(function () {

   

});

//自定义验证，在提交时执行。通过返回true，否则返回false
function customValidate(){
 var obj=createTimeObj(jQuery("#tjrq").val());
 //alert(obj);
 jQuery("#tjrq_nc").val(obj.nc);
 //alert($("#tjrq_nc").val(obj.nc));
 jQuery("#tjrq_sym").val(obj.sym);
 jQuery("#tjrq_yc").val(obj.yc);
 jQuery("#tjrq_ym").val(obj.ym); 
 return true;
}

/*jQuery(function(){
         jQuery.fn.serializeJSON=function() { 
         var json = {};
         jQuery.map(jQuery(this).serializeArray(), function(n, i){ 
         if(json[n['name']]) {json[n['name']] =(json[n['name']]+'--'+n['value']);} else {json[n['name']] = n['value'];} 
         });
         
         return json;
         };
         
         jQuery('#ggjxmxcxList').datagrid({ 
             pagination:true,
             pageSize:50,
             onLoadSuccess:function(data){ 
            
                  var colZsy= data.colZsy;//得到自定义列
                  var rows=data.rows;//得到行数�?
                 var columnMaxCharacter=new Array();//该列�?��字符�?
                 
                   if(!$.isEmptyObject(colZsy)){
                       var cls = new Array();//�?��自�?应的列的名称
                       var clName = new Array();
                      $.each(data.colZsy,function(key,value){
                        cls.push(key);
                        clName.push(value);
                    });
                     
                      //设置列宽度和字体
                       var ruler = $("#word-cal"); 
                      for(var j=0;j<cls.length;j++){
                            ruler.text(clName[j]); 
                            if(clName[j].length <5){
                                $("td[field='"+cls[j]+"'] div").width(70);
                            }else{
                                $("td[field='"+cls[j]+"'] div").width(20+ruler[0].offsetWidth);
                            }
                           
                      }
                   }
                 if(typeof customOnLoadSuccess == 'function') customOnLoadSuccess(data); 
                 if(typeof createDataListBar == 'function') createDataListBar(data);
                 if (data.rows.length>0){  
                         //setTimeout("mergeCellsByField('ggjxmxcxList','')",500);
                         if(''.length>0){
                             mergeCellsByField('ggjxmxcxList',''); 
                         }                         
                         if(''.length>0){
                             footerListTag('#ggjxmxcxList','');
                         }
                    }  
                 if(typeof noWiting == 'function') {
                     noWiting();
                 } else{
                     jQuery('#ggjxmxcxList').datagrid('loaded');
                 }
                 
             },
             remoteSort:false,
             width:960,
             height:400,
             rownumbers: true,
             singleSelect:true,
             showFooter:true,
             noCount:false,
                nowarp : false, 
             frozenColumns:[[]],columns:[[],[]]
         });
        
        //var params = jQuery("#myForm").serialize() + "&Aiax=1";
        var obj=createTimeObj(jQuery("#tjrq").val());
 //alert(obj);
 jQuery("#tjrq_nc").val(obj.nc);
 //alert($("#tjrq_nc").val(obj.nc));
 jQuery("#tjrq_sym").val(obj.sym);
 jQuery("#tjrq_yc").val(obj.yc);
 jQuery("#tjrq_ym").val(obj.ym); 
        var params = jQuery("#myForm").serializeJSON();
        jQuery.post("/pas/studio/queryParser.do?method=queryDataGetHead&funId=ggjxmxcx&isInit=true",params,function(callback){
            
            createDataGrid(callback);
            haveInitHead = true;
        }).error(function(){
            //alert("发生内部错误");
        });
    
     });
*/]]></javascript>
</pageSetting>

